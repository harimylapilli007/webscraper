2025-04-23 00:35:22,075 - INFO - [2025-04-23 00:35:22] INFO - Added file handler for log file: output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\scraper.log
2025-04-23 00:35:22,075 - INFO - [2025-04-23 00:35:22] INFO - Starting scraper with configuration:
2025-04-23 00:35:22,075 - INFO - [2025-04-23 00:35:22] INFO - base_url: https://www.booking.com/searchresults.html?label=gog235jc-1DCAEoggI46AdIM1gDaGyIAQGYATG4AQfIAQzYAQPoAQH4AQKIAgGoAgO4As_0h8AGwAIB0gIkMzJhOGRkNTItN2Y0NS00OGIyLWI0NDMtOGRjODk1MjQxNDlh2AIE4AIB&aid=397594&ss=Himachal+Pradesh%2C+India&ssne=Uttarakhand&ssne_untouched=Uttarakhand&lang=en-us&src=searchresults&dest_id=3482&dest_type=region&ac_position=1&ac_click_type=b&ac_langcode=en&ac_suggestion_list_length=5&search_selected=true&search_pageview_id=ce3f33fa3adb003e&checkin=2025-04-18&checkout=2025-04-19&group_adults=2&no_rooms=1&group_children=0&nflt=hotelfacility%3D54%3Bht_id%3D206
2025-04-23 00:35:22,075 - INFO - [2025-04-23 00:35:22] INFO - concurrent_settings: {'base_request_delay': 2, 'job_spacing_delay': 3, 'max_concurrent_jobs': 3, 'max_concurrent_requests': 2}
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - container_selector: div.c82435a4b8.a178069f51.a6ae3c2b40
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - initial_wait: 3
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - load_more_selector: 
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - load_more_wait: 3
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - max_pages: 1
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - max_scroll_attempts: 20
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - next_page_selector: 
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - output_excel: output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\scraped_data.xlsx
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - output_json: output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\scraped_data.json
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - page_wait: 2
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - paginate: False
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - scrape_subpages: False
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - scroll: True
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - scroll_wait: 3
2025-04-23 00:35:22,076 - INFO - [2025-04-23 00:35:22] INFO - start_page: 1
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - subpage_wait: 3
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - job_id: d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - user_id: user_khiboz5p84_1745132256993
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - concurrent: True
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - output_dir: output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - log_file: output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\scraper.log
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - request_delay: 6
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - max_concurrent_requests: 2
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - job_start_time: 2025-04-23T00:35:17.660818
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - headless: True
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Concurrent scraping settings:
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Job ID: d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - User ID: user_khiboz5p84_1745132256993
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Request delay: 6s
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Max concurrent requests: 2
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Concurrent scraping settings:
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Job ID: d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - User ID: user_khiboz5p84_1745132256993
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Request delay: 6s
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Max concurrent requests: 2
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Starting scraper with configuration:
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - {
  "base_url": "https://www.booking.com/searchresults.html?label=gog235jc-1DCAEoggI46AdIM1gDaGyIAQGYATG4AQfIAQzYAQPoAQH4AQKIAgGoAgO4As_0h8AGwAIB0gIkMzJhOGRkNTItN2Y0NS00OGIyLWI0NDMtOGRjODk1MjQxNDlh2AIE4AIB&aid=397594&ss=Himachal+Pradesh%2C+India&ssne=Uttarakhand&ssne_untouched=Uttarakhand&lang=en-us&src=searchresults&dest_id=3482&dest_type=region&ac_position=1&ac_click_type=b&ac_langcode=en&ac_suggestion_list_length=5&search_selected=true&search_pageview_id=ce3f33fa3adb003e&checkin=2025-04-18&checkout=2025-04-19&group_adults=2&no_rooms=1&group_children=0&nflt=hotelfacility%3D54%3Bht_id%3D206",
  "concurrent_settings": {
    "base_request_delay": 2,
    "job_spacing_delay": 3,
    "max_concurrent_jobs": 3,
    "max_concurrent_requests": 2
  },
  "container_selector": "div.c82435a4b8.a178069f51.a6ae3c2b40",
  "initial_wait": 3,
  "load_more_selector": "",
  "load_more_wait": 3,
  "max_pages": 1,
  "max_scroll_attempts": 20,
  "next_page_selector": "",
  "output_excel": "output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\\scraped_data.xlsx",
  "output_json": "output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\\scraped_data.json",
  "page_wait": 2,
  "paginate": false,
  "scrape_subpages": false,
  "scroll": true,
  "scroll_wait": 3,
  "start_page": 1,
  "subpage_wait": 3,
  "job_id": "d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6",
  "user_id": "user_khiboz5p84_1745132256993",
  "concurrent": true,
  "output_dir": "output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6",
  "log_file": "output/d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6\\scraper.log",
  "request_delay": 6,
  "max_concurrent_requests": 2,
  "job_start_time": "2025-04-23T00:35:17.660818",
  "headless": true
}
2025-04-23 00:35:22,077 - INFO - [2025-04-23 00:35:22] INFO - Attempting to use undetected-chromedriver...
2025-04-23 00:35:23,327 - INFO - [2025-04-23 00:35:23] INFO - Successfully initialized Chrome with undetected-chromedriver
2025-04-23 00:35:23,327 - INFO - [2025-04-23 00:35:23] INFO - Job started for user user_khiboz5p84_1745132256993 (Job ID: d48cb1a4-4d6e-402c-8729-1d91f8a1b1d6)
2025-04-23 00:35:23,327 - INFO - [2025-04-23 00:35:23] INFO - Phase 1: Collecting main fields and links from all pages...
2025-04-23 00:35:26,801 - INFO - [2025-04-23 00:35:26] INFO - Navigated to base URL: https://www.booking.com/searchresults.html?label=gog235jc-1DCAEoggI46AdIM1gDaGyIAQGYATG4AQfIAQzYAQPoAQH4AQKIAgGoAgO4As_0h8AGwAIB0gIkMzJhOGRkNTItN2Y0NS00OGIyLWI0NDMtOGRjODk1MjQxNDlh2AIE4AIB&aid=397594&ss=Himachal+Pradesh%2C+India&ssne=Uttarakhand&ssne_untouched=Uttarakhand&lang=en-us&src=searchresults&dest_id=3482&dest_type=region&ac_position=1&ac_click_type=b&ac_langcode=en&ac_suggestion_list_length=5&search_selected=true&search_pageview_id=ce3f33fa3adb003e&checkin=2025-04-18&checkout=2025-04-19&group_adults=2&no_rooms=1&group_children=0&nflt=hotelfacility%3D54%3Bht_id%3D206
2025-04-23 00:35:39,945 - INFO - [2025-04-23 00:35:39] INFO - Scraping main fields from page 1...
2025-04-23 00:35:39,945 - INFO - [2025-04-23 00:35:39] INFO - Scrolling to load all content...
2025-04-23 00:35:43,029 - ERROR - [2025-04-23 00:35:43] ERROR - [ERROR] Scraping failed: Message: invalid session id: session deleted as the browser has closed the connection
from disconnected: not connected to DevTools
  (Session info: chrome=135.0.7049.96)
Stacktrace:
	GetHandleVerifier [0x00A08073+60707]
	GetHandleVerifier [0x00A080B4+60772]
	(No symbol) [0x00830683]
	(No symbol) [0x0081FED0]
	(No symbol) [0x0083DD3F]
	(No symbol) [0x008A3D7F]
	(No symbol) [0x008BE129]
	(No symbol) [0x0089CE46]
	(No symbol) [0x0086C5D3]
	(No symbol) [0x0086D424]
	GetHandleVerifier [0x00C4BB53+2435075]
	GetHandleVerifier [0x00C470F3+2416035]
	GetHandleVerifier [0x00C6349C+2531660]
	GetHandleVerifier [0x00A1F145+155125]
	GetHandleVerifier [0x00A25AED+182173]
	GetHandleVerifier [0x00A0F948+91640]
	GetHandleVerifier [0x00A0FAF0+92064]
	GetHandleVerifier [0x009FA5B0+4704]
	BaseThreadInitThunk [0x76AB5D49+25]
	RtlInitializeExceptionChain [0x7771CF0B+107]
	RtlGetAppContainerNamedObjectPath [0x7771CE91+561]

2025-04-23 00:35:43,118 - ERROR - [2025-04-23 00:35:43] ERROR - Traceback (most recent call last):
  File "C:\Users\harim\Downloads\web-scrap-master\webScraper_backend\scrap.py", line 659, in scrape_data
    new_height = driver.execute_script("return document.body.scrollHeight")
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\harim\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\selenium\webdriver\remote\webdriver.py", line 406, in execute_script
    return self.execute(command, {"script": script, "args": converted_args})["value"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\harim\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\selenium\webdriver\remote\webdriver.py", line 346, in execute
    self.error_handler.check_response(response)
  File "C:\Users\harim\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\selenium\webdriver\remote\errorhandler.py", line 245, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.InvalidSessionIdException: Message: invalid session id: session deleted as the browser has closed the connection
from disconnected: not connected to DevTools
  (Session info: chrome=135.0.7049.96)
Stacktrace:
	GetHandleVerifier [0x00A08073+60707]
	GetHandleVerifier [0x00A080B4+60772]
	(No symbol) [0x00830683]
	(No symbol) [0x0081FED0]
	(No symbol) [0x0083DD3F]
	(No symbol) [0x008A3D7F]
	(No symbol) [0x008BE129]
	(No symbol) [0x0089CE46]
	(No symbol) [0x0086C5D3]
	(No symbol) [0x0086D424]
	GetHandleVerifier [0x00C4BB53+2435075]
	GetHandleVerifier [0x00C470F3+2416035]
	GetHandleVerifier [0x00C6349C+2531660]
	GetHandleVerifier [0x00A1F145+155125]
	GetHandleVerifier [0x00A25AED+182173]
	GetHandleVerifier [0x00A0F948+91640]
	GetHandleVerifier [0x00A0FAF0+92064]
	GetHandleVerifier [0x009FA5B0+4704]
	BaseThreadInitThunk [0x76AB5D49+25]
	RtlInitializeExceptionChain [0x7771CF0B+107]
	RtlGetAppContainerNamedObjectPath [0x7771CE91+561]


